{
  "enabled": {
    "description": "是否启用正则裁剪插件",
    "type": "bool",
    "default": true,
    "hint": "关闭后所有规则均不会生效。"
  },
  "rules": {
    "description": "按顺序执行的正则规则列表",
    "type": "list",
    "default": [],
    "hint": "可以在此界面新增、编辑、删除正则规则，并通过调整顺序字段改变执行顺序。",
    "items": {
      "type": "object",
      "items": {
        "name": {
          "description": "规则名称",
          "type": "string",
          "hint": "用于在界面中标识该条规则。"
        },
        "scope": {
          "description": "规则作用范围",
          "type": "string",
          "default": "ai_output",
          "options": [
            "user_input",
            "ai_output",
            "both"
          ],
          "hint": "user_input=只处理用户输入；ai_output=只处理模型输出；both=两者都处理。"
        },
        "pattern": {
          "description": "正则表达式模式（Python re 语法）",
          "type": "string",
          "hint": "留空将跳过该规则。"
        },
        "replacement": {
          "description": "替换文本，可引用捕获组，例如 \\1",
          "type": "string",
          "default": ""
        },
        "flags": {
          "description": "可选的正则标志（多选）",
          "type": "list",
          "default": [],
          "items": {
            "type": "string",
            "options": [
              "IGNORECASE",
              "MULTILINE",
              "DOTALL",
              "VERBOSE",
              "ASCII",
              "UNICODE",
              "LOCALE"
            ]
          }
        },
        "order": {
          "description": "执行顺序，数值越小越先执行",
          "type": "int",
          "default": 100,
          "hint": "支持拖动排序或直接修改数字。"
        },
        "enabled": {
          "description": "是否启用该规则",
          "type": "bool",
          "default": true
        }
      }
    }
  }
}