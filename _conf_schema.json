{
  "enabled": {
    "description": "是否启用正则裁剪插件",
    "type": "bool",
    "default": true,
    "hint": "关闭后所有规则均不会生效。"
  },

  "rules_json": {
    "description": "正则规则集（JSON 数组）。编辑右侧代码区以新增/修改/排序规则。",
    "type": "text",
    "default": "[]",
    "hint": "请填写 JSON 数组。每项结构：{name, scope(user_input|ai_output|both), pattern, replacement, flags[], order(int), enabled(bool)}。",
    "editor_mode": true,
    "editor_language": "json",
    "editor_theme": "vs-light"
  },

  "rules": {
    "description": "旧版规则字段（为兼容保留）",
    "type": "list",
    "default": [],
    "invisible": true,
    "items": {
      "type": "object",
      "items": {
        "name": { "type": "string" },
        "scope": {
          "type": "string",
          "default": "ai_output",
          "options": ["user_input", "ai_output", "both"]
        },
        "pattern": { "type": "string" },
        "replacement": { "type": "string", "default": "" },
        "flags": {
          "type": "list",
          "default": [],
          "items": {
            "type": "string",
            "options": ["IGNORECASE", "MULTILINE", "DOTALL", "VERBOSE", "ASCII", "UNICODE", "LOCALE"]
          }
        },
        "order": { "type": "int", "default": 100 },
        "enabled": { "type": "bool", "default": true }
      }
    }
  }
}